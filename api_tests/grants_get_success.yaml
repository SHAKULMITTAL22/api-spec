# Test generated by RoostGPT for test api-test using AI Type Open AI and AI Model gpt-4


# Test generated for /grants_get for http method type GET in artillery framework

# RoostTestHash=692c6b853f


config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  phases:
    - duration: 60
      arrivalRate: 10
  payload:
    path: "grants_get_success.csv"
    fields: ["id", "token", "createdAt", "updatedAt", "account_email", "account_id", "account_image", "account_name"]
    skipHeader: true
  environments:
    dev:
      target: "{{ $processEnvironment.API_HOST }}"
      headers:
        Token: "{{$processEnvironment.AUTH_TOKEN}}"

scenarios:
  - name: "Test Scenario for Grants API"
    flow:
      - get:
          url: "/grants"
          headers:
            Token: "{{$processEnvironment.AUTH_TOKEN}}"
      - expect:
          - statusCode: 200
          - hasHeader: "api-version"
          - headerEquals: {"api-version": "1.0.0"}
          - hasProperty: ["total", "grants"]
          - hasProperty: ["grants[].id", "grants[].token", "grants[].createdAt", "grants[].updatedAt", "grants[].account"]
          - hasProperty: ["grants[].account.email", "grants[].account.id", "grants[].account.image", "grants[].account.name"]
      - capture:
          - json: "$.grants[*].id"
            as: "grant_id"
          - json: "$.grants[*].token"
            as: "grant_token"
          - json: "$.grants[*].createdAt"
            as: "grant_createdAt"
          - json: "$.grants[*].updatedAt"
            as: "grant_updatedAt"
          - json: "$.grants[*].account.email"
            as: "account_email"
          - json: "$.grants[*].account.id"
            as: "account_id"
          - json: "$.grants[*].account.image"
            as: "account_image"
          - json: "$.grants[*].account.name"
            as: "account_name"
      - think: 1
