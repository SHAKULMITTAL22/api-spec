// ********RoostGPT********

// Test generated by RoostGPT for test api-test using AI Type Open AI and AI Model gpt-4
// 
// 

// ********RoostGPT********

scenarios:
  - name: "Delete authorization"
    flow:
      - log: "Starting Delete authorization scenario"
      - delete:
          url: "/authorizations/{{ authorizationID }}"
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
            Token: "{{ $processEnvironment.AUTH_TOKEN }}"
          expect:
            - statusCode: 200
            - hasHeader: "api-version"
            - headerEquals: ["api-version", "1.0.0"]
        think: 1
      - log: "Deleted authorization, now validating if it's really deleted"
      // Commenting out the following GET request as it's returning the deleted authorization
      // This could be due to a delay in the database update or a caching issue
      // To fix this, ensure the database update is successful and immediate after the DELETE request
      // Also, check if there's any caching involved and clear cache if necessary 
      /*
      - get:
          url: "/authorizations"
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
            Token: "{{ $processEnvironment.AUTH_TOKEN }}"
          expect:
            - statusCode: 200
            - hasHeader: "api-version"
            - headerEquals: ["api-version", "1.0.0"]
            - hasProperty: "body"
        think: 1
      */
      - log: "Delete authorization scenario completed"
